<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title tal:content="python: here.getPortalObject().getTitle()"></title>
    <link rel="stylesheet" href="gadget_erp5_nojqm.css">
    <link rel="stylesheet" href="zocial.min.css">
  </head>

  <body tal:define="form_action string:WebSite_login;">
  <div data-role='page'>

    <div data-gadget-scope='header'>
      <div class="ui-header">
        <h1><span i18n:domain="ui" i18n:translate="">Connect</span></h1>
      </div>
    </div>

    <div data-gadget-scope='panel'>
      <div data-role="header">
        <div class="panel_img">
          <img class="ui-title" alt="SlapOS logo" src="rapid_space_logo.svg?format="/>
        </div>
      </div>
    </div>


    <div role="main" class="ui-container gadget-content">
      <article>
        <div class="ui-field-contain">
           <section>
              <span tal:replace="structure here/WebSection_getLoginWarningMessage"></span>
          </section>
        </div>
         <div class="ui-field-contain">
           <section>
            <tal:block tal:condition="exists: request/portal_status_message">
              <span tal:attributes="data-i18n request/portal_status_message"><span tal:content="request/portal_status_message"></span></span>
            </tal:block>
          </section>
        </div>
        <section>
          <form method="post" tal:attributes="action python: '%s/' % context.absolute_url()">

            <div class="ui-field-contain">
              <label i18n:domain="ui" i18n:translate="" >Login</label>
              <div><input autofocus type="text" name="__ac_name" value="" required=""></div>
            </div><br/>
            <div class="ui-field-contain">
              <label i18n:domain="ui" i18n:translate="" >Password</label>
              <div><input type="password" name="__ac_password" value="" required=""></div>
            </div><br/>
            <div class="ui-field-contain">
              <label></label>
              <div tal:define="absolute_url python:context.absolute_url()">
                <a  i18n:domain="ui" i18n:translate="" tal:attributes="href python: '%s/WebSite_viewRecoverAccount?came_from=%s' % (absolute_url, absolute_url)">I forgot my password!</a>
              </div>
            </div><br/>
            <div class="ui-field-contain">
              <label></label>
              <div><input type="submit" value='Login' i18n:attributes="value" i18n:domain="ui"  tal:attributes="name python: '%s:method' % (form_action, )"/></div>
            </div>
           <br/>
           <div class="ui-field-contain">
              <label></label>
              <div><a tal:attributes="href string:join_form"
                       i18n:translate="" i18n:domain="ui" class="zocial secondary"> Create New Account </a>
                  </div>
            </div>

            <hr />
            <tal:block tal:define="available_oauth_login_list python: context.getPortalObject().ERP5Site_getAvailableOAuthLoginList();">

              <tal:block tal:condition="python: 'google' in available_oauth_login_list">
                <div class="ui-field-contain">
                  <label></label>
                  <div>
                    <a tal:attributes="href string:${here/portal_url}/ERP5Site_redirectToGoogleLoginPage"
                       i18n:translate="" i18n:domain="ui" class="zocial google">Sign in or Login with Google</a>
                  </div>
                </div><br/>
              </tal:block>

              <tal:block tal:condition="python: 'facebook' in available_oauth_login_list">
                <div class="ui-field-contain">
                  <label></label>
                  <div>
                    <a tal:attributes="href string:${here/portal_url}/ERP5Site_redirectToFacebookLoginPage"
                       i18n:translate="" i18n:domain="ui" class="zocial facebook">Sign in or Login with Facebook</a>
                  </div>
                </div>
              </tal:block>
            </tal:block>
            <input type="hidden" name="url" tal:attributes="value python: context.absolute_url()" />
            <input tal:condition="exists: request/came_from"
                   type="hidden" name="came_from"
                   tal:attributes="value request/came_from" />
          </form>
         </section>
      </article>
    </div>
  </div>
  </body>
</html>