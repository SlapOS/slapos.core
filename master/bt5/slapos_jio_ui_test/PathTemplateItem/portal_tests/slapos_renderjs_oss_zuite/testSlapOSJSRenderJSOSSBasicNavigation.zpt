<html xmlns:tal="http://xml.zope.org/namespaces/tal" xmlns:metal="http://xml.zope.org/namespaces/metal">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>est RenderJS Front Page</title>
</head>

<body>
  <table cellpadding="1" cellspacing="1" border="1">
    <thead>
      <tr>
        <td rowspan="1" colspan="3">Test RenderJS Front Page</td>
      </tr>
    </thead>
    <tbody>
      <tal:block tal:define="global web_site_id python: 'renderjs_oss'">
        <tal:block metal:use-macro="here/Zuite_SlapOSCommonTemplate/macros/slapos_init_base" />
        <tal:block metal:use-macro="here/Zuite_SlapOSCommonTemplate/macros/set_default_available_language"/>
        <!-- Logout  -->
        <tr>
          <td>open</td>
          <td tal:content="python:'${base_url}/web_site_module/%s/WebSite_logout' % web_site_id">.../WebSite_logout</td>
          <td></td>
        </tr>
        <tr>
          <td colspan="3"><b> Login as demo_manager_functional_user</b></td>
        </tr>
        <tr>
          <td>open</td>
          <td tal:content="python:'${base_url}/web_site_module/%s/' % web_site_id"></td>
          <td></td>
        </tr>
        <tr>
          <td>waitForElementPresent</td>
          <td>__ac_name</td>
          <td></td>
        </tr>
        <tr>
          <td>assertElementPresent</td>
          <td>__ac_name</td>
          <td></td>
        </tr>
        <tr>
          <td>type</td>
          <td>__ac_name</td>
          <td>demo_manager_functional_user</td>
        </tr>
        <tr>
          <td>type</td>
          <td>__ac_password</td>
          <td>czz4yt36mshT*</td>
        </tr>
        <tr>
          <td>waitForElementPresent</td>
          <td tal:content="python: '//input[@value=\'%s\']' % (here.Base_translateString('Login', lang=lang))"></td>
          <td></td>
        </tr>
        <tr>
          <td>assertElementPresent</td>
          <td tal:content="python: '//input[@value=\'%s\']' % (here.Base_translateString('Login', lang=lang))"></td>
          <td></td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td tal:content="python: '//input[@value=\'%s\']' % (here.Base_translateString('Login', lang=lang))"></td>
          <td></td>
        </tr>
        <tal:block metal:use-macro="here/Zuite_SlapOSCommonTemplate/macros/wait_for_app_loaded" />

        <tr>
          <td>waitForElementPresent</td>
          <td tal:content="python: '//div[contains(@data-gadget-url, \'gadget_erp5_page_slapos_access.html\')]//h1[contains(text(), \'%s\')]' % here.web_page_module.slapos_admin_front_page.getTitle()"></td>
          <td></td>
        </tr>
        <tr>
          <td>assertElementPresent</td>
          <td tal:content="python: '//div[contains(@data-gadget-url, \'gadget_erp5_page_slapos_access.html\')]//h1[contains(text(), \'%s\')]' % here.web_page_module.slapos_admin_front_page.getTitle()"></td>
          <td></td>
        </tr>
        <tr>
         <td>waitForElementPresent</td>
         <td tal:content="python: '//div[contains(@data-gadget-url, \'gadget_erp5_panel.html\')]//a[text()=\'Ticket Activity\']'"></td>
         <td></td>
        </tr>
        <tr>
          <td>assertElementPresent</td>
          <td tal:content="python: '//div[contains(@data-gadget-url, \'gadget_erp5_panel.html\')]//a[text()=\'Ticket Activity\']'"></td>
          <td></td>
        </tr>                 
      </tal:block>
    </tbody>
  </table>
</body>
</html>